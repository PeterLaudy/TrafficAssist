<svg viewBox="-100 -100 200 200" width="100%" height="100%" preserveAspectRatio="xMidYMid meet">
    <!-- Setting the transform on the svg element is not supported by all browsers. -->
    <g transform="scale(1,-1)">
        <g *ngIf="null != cities">
            <g *ngFor="let city of cities">
                <g *ngIf="null != city.tags.population">
                    <circle [attr.cx]="city.lon" [attr.cy]="city.lat" [attr.r]="city.tags.population/10000" />
                </g>
            </g>
        </g>
        <g *ngIf="null != radarInfos">
            <g *ngFor="let radarInfo of radarInfos">
                <path [attr.transform]="radarInfo.svgPosition" d="M3800 3200c0,497 -403,900 -900,900l0 -200c387,0 700,-313 700,-700l200 0zm-900 -1300c718,0 1300,582 1300,1300 0,718 -582,1300 -1300,1300 -718,0 -1300,-582 -1300,-1300 0,-718 582,-1300 1300,-1300zm1800 0c220,0 400,180 400,400 0,221 -179,400 -400,400 -220,0 -400,-180 -400,-400 0,-221 179,-400 400,-400zm0 200c-110,0 -200,90 -200,200 0,111 89,200 200,200 110,0 200,-90 200,-200 0,-111 -89,-200 -200,-200zm-3000 -600c110,0 200,-90 200,-200 0,-220 180,-400 400,-400l1200 0c220,0 400,180 400,400 0,110 90,200 200,200l1000 0c220,0 400,180 400,400l0 2800c0,220 -180,400 -400,400l-4400 0c-220,0 -400,-180 -400,-400l0 -2800c0,-220 180,-400 400,-400l1000 0zm-1000 200c-111,0 -200,89 -200,200l0 2800c0,110 90,200 200,200l4400 0c110,0 200,-90 200,-200l0 -2800c0,-110 -90,-200 -200,-200l-1000 0c-220,0 -400,-180 -400,-400 0,-111 -89,-200 -200,-200l-1200 0c-111,0 -200,89 -200,200 0,220 -180,400 -400,400l-1000 0zm1600 -400l1200 0 0 200 -1200 0 0 -200zm600 800c-608,0 -1100,492 -1100,1100 0,608 492,1100 1100,1100 608,0 1100,-492 1100,-1100 0,-608 -492,-1100 -1100,-1100z"/>
            </g>
        </g>
        <g *ngIf="null != route">
            <g *ngFor="let feature of route.features">
                <g *ngFor="let segment of feature.properties.segments">
                    <g *ngFor="let step of segment.steps">
                        <title>{{step.name}}</title>
                        <polyline class="route" [appPolyline]="feature.geometry.coordinates" first="{{step.way_points[0]}}" last="{{step.way_points[1]}}" />
                    </g>
                </g>
            </g>
        </g>
        <g *ngIf="null != cities">
            <g *ngFor="let city of cities">
                <text transform="scale(1,-1)" [attr.x]="city.lon" [attr.y]="-city.lat">{{city.tags.name}}</text>
            </g>
        </g>
        <g *ngIf="null != radarInfos">
            <g *ngFor="let radarInfo of radarInfos">
                <line class="radar" [attr.x1]="radarInfo.svgPosX1" [attr.y1]="radarInfo.svgPosY1"
                                    [attr.x2]="radarInfo.svgPosX2" [attr.y2]="radarInfo.svgPosY2" />
            </g>
        </g>
        <g *ngIf="null != trafficInfos">
            <g *ngFor="let trafficInfo of trafficInfos">
                <title>{{trafficInfo.trafficjam.description}}</title>
                <polyline class="traffic-info" [appPolyline]="trafficInfo.feature.geometry.coordinates" first="{{trafficInfo.first}}" last="{{trafficInfo.last}}" />
            </g>
        </g>
        <g *ngIf="null != myLocation">
            <circle class="me" [attr.cx]="myLocation.loc.lon" [attr.cy]="myLocation.loc.lat" [attr.r]="3" />
            <circle class="accuracy" [attr.cx]="myLocation.loc.lon" [attr.cy]="myLocation.loc.lat" [attr.r]="myLocation.accuracy" />
        </g>
    </g>
</svg>
<div class="topicons">
    <a [routerLink]="['/home', from, to]">
        <img src="assets/find64.png">
    </a>
    <a [routerLink]="['/main', to, from]">
        <img src="assets/replace64.png">
    </a>
</div>
<div class="bottomicons">
    <img src="assets/fit_to_size64.png" (click)="toggleFullscreen();">
</div>
